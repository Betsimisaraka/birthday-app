{"version":3,"sources":["libs/element.js","libs/utils.js","libs/display.js","index.js"],"names":["endpoint","buttonAdd","document","querySelector","modalOuter","modalInner","tbody","filterNameInput","filterMonthBirthday","filterForm","wait","ms","Promise","resolve","setTimeout","destroyPopup","popup","classList","remove","closeModal","handleClickOutside","e","clickOutside","target","closest","handleEscapeKey","key","displayPeople","people","sort","a","b","Date","birthday","getMonth","map","person","nthDate","day","today","myDate","myDateYear","getFullYear","myDateMonth","myDateDay","getDate","fullDate","futureAge","momentYear","birthDayDate","oneDay","getTheDate","getTime","dayLeft","Math","ceil","id","picture","firstName","lastName","toLocaleString","month","join","fetchPeople","response","fetch","data","json","displayLists","html","innerHTML","editandDeleteButtons","tableToEdit","dataset","displayEditBtn","rowToDelete","displayDeleteBtn","idToEdit","findPeople","find","console","log","createElement","add","insertAdjacentHTML","window","addEventListener","preventDefault","value","pictures","birthDay","dispatchEvent","CustomEvent","once","body","appendChild","idToDelete","findPeopleToDelete","delPopup","cancelBtn","yesBtn","removeLi","filter","handleNewPeople","addNewPeople","form","newPeople","now","lastname","firstname","push","reset","cancelAddNewPeople","filterPersonByName","input","inputSearch","toLowerCase","searchPerson","includes","myHTML","filterPersonMonth","select","filterPerson","getMonthOfBirth","initialStorage","lsItems","JSON","parse","localStorage","getItem","updateLocalStorage","setItem","stringify"],"mappings":"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","file":"birthday-app.e31bb0bc.js","sourceRoot":"..","sourcesContent":["export const endpoint = \"https://gist.githubusercontent.com/Pinois/e1c72b75917985dc77f5c808e876b67f/raw/b17e08696906abeaac8bc260f57738eaa3f6abb1/birthdayPeople.json\";\r\nexport const buttonAdd = document.querySelector('.btn-add');\r\nexport const modalOuter = document.querySelector('.modal_outer');\r\nexport const modalInner = document.querySelector('.modal_inner');\r\nexport const tbody = document.querySelector('#lists_container');\r\nexport const filterNameInput = document.querySelector(\"#search_name\");\r\nexport const filterMonthBirthday = document.querySelector(\"#month_birthday\");\r\nexport const filterForm = document.querySelector('.form_filter');\r\n// export const resetBtn = document.querySelector('.reset_filter');","import { modalOuter,  filterForm } from '../libs/element.js';\r\nimport { fetchPeople } from '../index.js';\r\n\r\n// export const resetFilters = e => {\r\n//     filterForm.reset();\r\n//     fetchPeople();\r\n// };\r\n\r\nfunction wait(ms = 0) {\r\n    return new Promise(resolve => setTimeout(resolve, ms));\r\n}\r\n\r\nexport async function destroyPopup(popup) {\r\n    popup.classList.remove('open');\r\n    await wait(500);\r\n    popup.remove();\r\n    //remove it from the javascript memory\r\n    popup = null;\r\n};   \r\n\r\n//Close modal \r\nexport const closeModal = () => {\r\n    modalOuter.classList.remove('open');\r\n}\r\n\r\n//Close modal when you click outside\r\nexport const handleClickOutside = (e) => {\r\n    const clickOutside = !e.target.closest('.modal_inner');\r\n    if (clickOutside) {\r\n        closeModal();\r\n    }\r\n}\r\n\r\nexport const handleEscapeKey = (e) => {\r\n    if (e.key === 'Escape') {\r\n        closeModal();\r\n    }\r\n}","export function displayPeople(people) {\r\n    return people\r\n        .sort( function(a, b) {\r\n            return new Date(a.birthday).getMonth() - new Date(b.birthday).getMonth();\r\n        })\r\n        .map((person) => {\r\n        function nthDate(day) {\r\n            if (day > 3 && day < 21 ) return \"th\";\r\n            switch (day % 10) {\r\n                case 1: return \"st\";\r\n                case 2: return \"nd\";\r\n                case 3: return \"rd\";\r\n                default: return \"th\";\r\n            }\r\n        }\r\n        let today = new Date();\r\n        let myDate = new Date(person.birthday);\r\n        let myDateYear = myDate.getFullYear();\r\n        let myDateMonth = myDate.getMonth() + 1;\r\n        let myDateDay = myDate.getDate();\r\n        const fullDate = `${myDateDay}${nthDate(myDateDay)} / ${myDateMonth} / ${myDateYear}`;\r\n        const futureAge = today.getFullYear() - myDateYear;\r\n\r\n        // Counting how many days left untill the person's birthday\r\n        const momentYear = today.getFullYear();\r\n        const birthDayDate = new Date(momentYear, myDateMonth - 1, myDateDay );\r\n        let oneDay = 1000 * 60 * 60 * 24;\r\n        const getTheDate = birthDayDate.getTime() - today.getTime();\r\n        const dayLeft = Math.ceil(getTheDate / oneDay);\r\n\r\n        //Create html for the data and put into dom.\r\n        return `\r\n        <li data-id=\"${person.id}\" class=\"tr_container\">\r\n           <div class=\"first_section\">\r\n                <div><img class=\"picture\" src=\"${person.picture}\" alt=\"${person.firstName + ' ' + person.lastName}\"/></div>\r\n                <div class=\"first_section__content\">\r\n                    <span class=\"person_name\">${person.lastName} ${person.firstName}</span>\r\n                    <p class=\"person_birthday\">\r\n                        Turns <span class=\"days\"> ${futureAge}</span> on \r\n                        ${new Date(person.birthday)\r\n                            .toLocaleString(\"en-US\", \r\n                        { month: \"long\" })}\r\n                        <time datetime=\"${fullDate}\">\r\n                            ${new Date(person.birthday)\r\n                                .toLocaleString(\"en-US\", \r\n                                { day: \"numeric\" })}<sup>${nthDate(myDateDay)}</sup>\r\n                        </time> \r\n                    </p>\r\n                </div>\r\n           </div>\r\n            <div class=\"last_section\">\r\n                <p class=\"person_birthday_date\">${dayLeft < 0 ? dayLeft * -1 + \" \" + \"days ago\" :\r\n                    dayLeft <= 1 ? 'in' + \" \" + dayLeft + \" \" + \"day\" : \"in\" + \" \" +\r\n                    dayLeft + \" \" + 'days'}\r\n                </p>\r\n                <div>\r\n                    <button class=\"edit\" data-id=\"${person.id}\"> Edit</button>\r\n                    <button class=\"delete\" data-id=\"${person.id}\"> Delete</button>\r\n                </div>\r\n            </div>\r\n        </li>\r\n        `;\r\n    })\r\n    .join('');\r\n}    ","import { endpoint, buttonAdd, modalOuter, modalInner, tbody, filterNameInput, filterMonthBirthday } from \"./libs/element.js\";\r\nimport { handleClickOutside, destroyPopup, handleEscapeKey, closeModal } from './libs/utils.js';\r\nimport { displayPeople } from './libs/display.js';\r\n\r\n//Fetch the data from the people.json files\r\nexport async function fetchPeople() {\r\n    const response = await fetch(endpoint);\r\n    const data = await response.json();\r\n    let people = data;\r\n\r\n    function displayLists() {\r\n        const html = displayPeople(people);\r\n        tbody.innerHTML = html;\r\n    }\r\n\r\n    displayLists();\r\n    \r\n   function editandDeleteButtons(e) {\r\n        if (e.target.closest('button.edit')) {\r\n            const tableToEdit = e.target.closest('li');\r\n            const id = tableToEdit.dataset.id;\r\n            displayEditBtn(id);\r\n        }\r\n        if (e.target.closest('button.delete')) {\r\n            const rowToDelete = e.target.closest('li');\r\n            const id = rowToDelete.dataset.id;\r\n            displayDeleteBtn(id);\r\n        }\r\n    }\r\n\r\n    function displayEditBtn(idToEdit) {\r\n        const findPeople = people.find(people => people.id == idToEdit);\r\n        console.log(findPeople);\r\n            let myDate = new Date(findPeople.birthday);\r\n            let myDateYear = myDate.getFullYear();\r\n            let myDateMonth = myDate.getMonth() + 1;\r\n            let myDateDay = myDate.getDate();\r\n            const fullDate = `${myDateDay} / ${myDateMonth} / ${myDateYear}`;\r\n\r\n            const popup = document.createElement('form');\r\n            popup.classList.add('popup');\r\n            popup.insertAdjacentHTML('afterbegin', \r\n            `\r\n            <div class=\"container_container\">\r\n                <div class=\"edit_container\">\r\n                    <h3 class=\"edit-heading\">Edit <span class=\"person_to_edit\">${findPeople.firstName} ${findPeople.lastName}</span></h3>\r\n                    <div class=\"edit_fieldset\">\r\n                        <fieldset>\r\n                            <label for=\"pictures\">Picture</label>\r\n                            <input type=\"url\" id=\"pictures\" name=\"pictures\" value=\"${findPeople.picture}\" required>\r\n                        </fieldset>\r\n                        <fieldset>\r\n                            <label for=\"lastName\">Last name</label>\r\n                            <input type=\"text\" id=\"lastName\" name=\"lastName\" value=\"${findPeople.lastName}\" required>\r\n                        </fieldset>\r\n                        <fieldset>\r\n                            <label for=\"firstName\">First name</label>\r\n                            <input type=\"text\" id=\"firstName\" name=\"firstName\" value=\"${findPeople.firstName}\" required>\r\n                        </fieldset>\r\n                        <fieldset>\r\n                            <label for=\"birthDay\">Days</label>\r\n                            <input type=\"date\" id=\"birthDay\" value=\"${fullDate}\" name=\"birthDay\" required>\r\n                        </fieldset>\r\n                    </div>\r\n                    <div class=\"buttons\">\r\n                        <button type=\"submit\" class=\"save\">Save changes</button>\r\n                        <button type=\"button\" class=\"cancelEdit cancel\">Cancel</button>\r\n                    </div>\r\n                    <button class=\"close_edit\"></button>\r\n                </div>\r\n            </div>  \r\n            `);\r\n    \r\n            window.addEventListener('click', e => {\r\n                if (e.target.closest('button.cancelEdit')) {\r\n                    destroyPopup(popup);\r\n                }\r\n            });\r\n    \r\n            window.addEventListener('keydown', e => {\r\n                if (e.key === 'Escape') {\r\n                    destroyPopup(popup);                }\r\n            })\r\n\r\n            window.addEventListener('click', e => {\r\n                if (e.target.closest('button.close_edit')) {\r\n                    destroyPopup(popup);\r\n                }\r\n            })\r\n    \r\n            popup.addEventListener('submit', (e) => {\r\n                e.preventDefault();\r\n                \r\n                findPeople.lastName = popup.lastName.value,\r\n                findPeople.firstName = popup.firstName.value,\r\n                findPeople.picture = popup.pictures.value,\r\n                findPeople.birthday = popup.birthDay.value,\r\n\r\n                displayLists(findPeople);\r\n                destroyPopup(popup);\r\n                tbody.dispatchEvent(new CustomEvent('updatedTheList'));\r\n            }, { once: true });\r\n    \r\n            document.body.appendChild(popup);\r\n            popup.classList.add('open');\r\n    };    \r\n\r\n    //Html for the delete button\r\n    function displayDeleteBtn(idToDelete) {\r\n        return new Promise(async function(resolve) {\r\n            const findPeopleToDelete = people.find(people => people.id == idToDelete);\r\n            console.log(findPeopleToDelete);\r\n\t\t\t// First we need to create a popp with all the fields in it\r\n\t\t\tconst delPopup = document.createElement('div');\r\n\t\t\tdelPopup.classList.add('delPopup');\r\n\t\t\tdelPopup.insertAdjacentHTML('afterbegin',\r\n            `\t\r\n            <div class=\"delete_container_container\">\r\n               <div class=\"delete_container\">\r\n                    <h2 class=\"delete_heading\">Are you sure that you want to delete <span class=\"person_to_delete\">${findPeopleToDelete.firstName} ${findPeopleToDelete.lastName}?</span></h2>\r\n                    <div class=\"deletebtns\">\r\n                        <button type=\"button\" class=\"yes\">yes</button>\r\n                        <button type=\"button\" class=\"cancelDelete cancel\">Cancel</button>\r\n                    </div>\r\n               </div>\r\n            </div>\r\n            `);\r\n            delPopup.classList.add('open');\r\n\r\n            window.addEventListener('click', e => {\r\n                const cancelBtn = e.target.closest('button.cancelDelete');\r\n                if (cancelBtn) {\r\n                    destroyPopup(delPopup);\r\n                }\r\n\r\n                window.addEventListener('keydown', e => {\r\n                    if (e.key === 'Escape') {\r\n                        destroyPopup(delPopup);                }\r\n                })\r\n    \r\n                const yesBtn = e.target.closest('button.yes');\r\n                if (yesBtn) {\r\n                    const removeLi = people.filter(people => people.id != idToDelete);\r\n                    people = removeLi;\r\n                    displayLists(removeLi);\r\n                    tbody.dispatchEvent(new CustomEvent('updatedTheList'));\r\n                    destroyPopup(delPopup);\r\n                }\r\n            });\r\n           \r\n            document.body.appendChild(delPopup);\r\n            delPopup.classList.add('open');\r\n        });\r\n    }\r\n\r\n    const handleNewPeople = () => {\r\n        modalInner.innerHTML =    \r\n        `\r\n        <div class=\"modal_container\">\r\n            <form action=\"\" class=\"form_submit\">\r\n                <h2 class=\"add_heading\">Add new people</h2>\r\n                <fieldset>\r\n                    <label for=\"picture\">Picture</label>\r\n                    <input type=\"url\" id=\"picture\" name=\"picture\" required>\r\n                </fieldset>\r\n                <fieldset>\r\n                    <label for=\"lastname\">Last name</label>\r\n                    <input type=\"text\" id=\"lastname\" name=\"lastname\" required>\r\n                </fieldset>\r\n                <fieldset>\r\n                    <label for=\"firstname\">First name</label>\r\n                    <input type=\"text\" id=\"firstname\" name=\"firstname\" required>\r\n                </fieldset>\r\n                <fieldset>\r\n                    <label for=\"birthday\">Days</label>\r\n                    <input type=\"date\" id=\"birthday\" name=\"birthday\" required>\r\n                </fieldset>\r\n                <div class=\"buttons\">\r\n                    <button type=\"submit\" class=\"submit\">Submit</button>\r\n                    <button type=\"button\" class=\"cancel-add cancel\">Cancel</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n        `;\r\n        modalOuter.classList.add('open');\r\n    }\r\n\r\n    // Add new person to the list\r\n    const addNewPeople = (e) => {\r\n        e.preventDefault();\r\n        const form = e.target;\r\n        const newPeople = {\r\n            id: Date.now(),\r\n            picture: form.picture.value,\r\n            lastName: form.lastname.value,\r\n            firstName: form.firstname.value,\r\n            birthday: form.birthday.value,\r\n        }\r\n        people.push(newPeople);\r\n        displayLists(people);\r\n        //Reset the form\r\n        form.reset();\r\n        tbody.dispatchEvent(new CustomEvent('updatedTheList'));\r\n        closeModal();\r\n    }\r\n\r\n    const cancelAddNewPeople = (e) => {\r\n        if (e.target.closest('button.cancel-add')) {\r\n            closeModal();\r\n        }\r\n    }\r\n\r\n    const filterPersonByName = () => {\r\n        // Get the value of the input\r\n        const input = filterNameInput.value;\r\n        const inputSearch = input.toLowerCase();\r\n        // Filter the list by the firstname or lastname\r\n        const searchPerson = people.filter(person => person.lastName.toLowerCase().includes(inputSearch) || \r\n            person.firstName.toLowerCase().includes(inputSearch));\r\n        const myHTML = displayPeople(searchPerson);\r\n        tbody.innerHTML = myHTML;\r\n    }\r\n\r\n    // Filter by month\r\n    const filterPersonMonth = e => {\r\n        // Get the value of the select input\r\n        const select = filterMonthBirthday.value;\r\n        const filterPerson = people.filter(person => {\r\n            // Change the month of birth into string\r\n            const getMonthOfBirth = new Date(person.birthday)\r\n            .toLocaleString(\"en-US\", \r\n            { month: \"long\" }); \r\n\r\n            // Filter the list by the month of birth\r\n            return getMonthOfBirth.toLowerCase().includes(select.toLowerCase());\r\n        });\r\n        const myHTML = displayPeople(filterPerson);\r\n        tbody.innerHTML = myHTML;\r\n    }\r\n\r\n    // const resetFilters = e => {\r\n    //     filterForm.reset();\r\n    //     displayLists();\r\n    // };\r\n\r\n\r\n    // //To get the items from the local storage\r\n    const initialStorage = () => {\r\n        const lsItems = JSON.parse(localStorage.getItem('people'));\r\n        if (lsItems) {\r\n            people = lsItems;\r\n            displayLists();\r\n        }\r\n        tbody.dispatchEvent(new CustomEvent('updatedTheList'));\r\n    };\r\n    \r\n    // To set the item in the local storage.\r\n    const updateLocalStorage = () => {\r\n        localStorage.setItem('people', JSON.stringify(people));\r\n    };\r\n    \r\n    //************* EVENT LISTENER **********\r\n    buttonAdd.addEventListener('click', handleNewPeople);\r\n    // resetBtn.addEventListener('click', resetFilters);\r\n    filterNameInput.addEventListener('keyup', filterPersonByName);\r\n    filterMonthBirthday.addEventListener('change', filterPersonMonth);\r\n    tbody.addEventListener('updatedTheList', updateLocalStorage);\r\n    modalInner.addEventListener('submit', addNewPeople);\r\n    modalInner.addEventListener('click', cancelAddNewPeople);\r\n    modalOuter.addEventListener('click', handleClickOutside);\r\n    tbody.addEventListener('click', editandDeleteButtons);\r\n    initialStorage();\r\n}\r\nwindow.addEventListener('keydown', handleEscapeKey);\r\n\r\nfetchPeople();"]}